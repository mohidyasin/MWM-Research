<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MWM Research | Dynamic Portfolio Solutions.</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Roboto+Mono&display=swap" rel="stylesheet">

    <!-- Updated links to icons in the images/ folder -->
    <link rel="icon" type="image/x-icon" href="images/favicon.ico?v=3">
    <link rel="icon" type="image/png" sizes="16x16" href="images/favicon-16x16.png?v=3">
    <link rel="icon" type="image/png" sizes="32x32" href="images/favicon-32x32.png?v=3">
    <link rel="apple-touch-icon" sizes="180x180" href="images/apple-touch-icon.png?v=3">
    <link rel="manifest" href="images/site.webmanifest?v=3">

    <!-- Android Chrome icons in the images/ folder -->
    <link rel="icon" type="image/png" sizes="192x192" href="images/android-chrome-192x192.png">
    <link rel="icon" type="image/png" sizes="512x512" href="images/android-chrome-512x512.png">
    
    

    <!-- PapaParse script -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <style>
        body, html {
            margin: 0;
            padding: 0;
            font-family: 'Poppins', sans-serif;
            scroll-behavior: smooth;
            overflow-x: hidden;
            width: 100%;
        }
        header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: #1a1a2e;
            color: white;
            padding: 0.5rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            z-index: 1000;
        }
        .logo {
            width: 200px;
            height: 60px;
        }
        .logo svg {
            width: 100%;
            height: 100%;
        }
        nav ul {
            display: flex;
            list-style-type: none;
            margin: 0;
            padding: 0;
        }
        nav ul li {
            margin-left: 1.5rem;
        }
        nav ul li a {
            color: #ffffff;
            text-decoration: none;
        }
        #particles-js {
            position: absolute;
            width: 100%;
            height: 100vh;
            background-color: #1a1a2e;
        }
        .hero {
            height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
            color: #ffffff;
        }
        .hero h1 {
            font-size: 3rem;
            text-align: center;
            z-index: 1;
        }
        .content {
            background-color: #ffffff;
            color: #333;
            position: relative;
            z-index: 2;
            padding-top: 60px;
        }
        .section {
            padding: 2rem 1rem;
            max-width: 100%;
            margin: 0 auto;
            box-sizing: border-box;
        }
        h2 {
            font-size: 3rem;
            margin-bottom: 1rem;
            color: #1a1a2e;
            text-align: center;
        }
        p {
            line-height: 1.6;
            margin-bottom: 1rem;
        }
        .offering-card {
            background-color: #ffffff;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            margin: 2rem auto;
            overflow: hidden;
            max-width: 100%;
            width: 100%;
            box-sizing: border-box;
        }
        .offering-card h3 {
            background-color: #1a1a2e;
            color: #ffffff;
            margin: 0;
            padding: 1rem;
            font-size: 1.5rem;
            text-align: center;
        }
        .offering-content {
            display: flex;
            flex-direction: column;
            padding: 1.5rem;
            box-sizing: border-box;
        }
        .offering-plot {
            width: 100%;
            margin-bottom: 1.5rem;
        }
        .offering-plot img {
            width: 100%;
            height: auto;
            border-radius: 4px;
            max-height: 500px;
            object-fit: contain;
            cursor: pointer;
        }
        .table-container {
            width: 100%;
        }
        .stats-table {
            width: 100%;
            border-collapse: collapse;
            font-size: 0.75rem;
            line-height: 1.2;
        }
        .stats-table th, .stats-table td {
            padding: 0.2rem 0.5rem;
            text-align: left;
            border: none;
        }
        .stats-table th {
            background-color: #f2f2f2;
            font-weight: bold;
        }
        .stats-table tr:nth-child(even) {
            background-color: #f8f8f8;
        }
        .offering-details {
            margin-top: 1rem;
        }
        .offering-details p {
            margin-top: 0;
            font-size: 0.9rem;
            margin-bottom: 0;
        }
        footer {
            background-color: #1a1a2e;
            color: #8b8b9c;
            text-align: center;
            padding: 1rem;
            font-size: 0.9rem;
            font-family: 'Roboto Mono', monospace;
        }
        footer p {
            margin: 0;
        }
        #back-to-top {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #1a1a2e;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            justify-content: center;
            align-items: center;
            text-decoration: none;
            z-index: 1000;
            transition: opacity 0.3s;
        }
        #back-to-top:hover {
            background-color: #2a2a4e;
        }
        #back-to-top.hidden {
            opacity: 0;
            pointer-events: none;
        }
        .form-group {
            margin-bottom: 1rem;
        }
        .form-group label {
            display: block;
            margin-bottom: 0.5rem;
        }
        .form-group input,
        .form-group textarea {
            width: 100%;
            padding: 0.5rem;
            border: 1px solid #ddd;
            border-radius: 4px;
            box-sizing: border-box;
        }
        .form-group textarea {
            height: 150px;
        }
        button[type="submit"] {
            background-color: #1a1a2e;
            color: white;
            border: none;
            padding: 0.75rem 1.5rem;
            border-radius: 4px;
            cursor: pointer;
            display: block;
            margin: 0 auto;
            width: 40%;
        }
        button[type="submit"]:hover {
            background-color: #2a2a4e;
        }

        .philosophy-content {
            max-width: 800px;
            margin: 0 auto;
        }
        .principles {
            background-color: #f4f4f4;
            padding: 20px;
            border-radius: 5px;
            margin-top: 20px;
        }
        .principle {
            margin-bottom: 15px;
        }
        .principle h3 {
            color: #1a1a2e;
            margin-bottom: 5px;
        }
        .modal {
            display: none;
            position: fixed;
            z-index: 1001;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            overflow: auto;
            background-color: rgba(0,0,0,0.9);
        }
        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 90%;
            max-height: 90%;
            object-fit: contain;
        }
        .close {
            position: absolute;
            top: 15px;
            right: 35px;
            color: #f1f1f1;
            font-size: 40px;
            font-weight: bold;
            transition: 0.3s;
        }
        .close:hover,
        .close:focus {
            color: #bbb;
            text-decoration: none;
            cursor: pointer;
        }

        @media (max-width: 768px) {
            header {
                padding: 0.5rem 1rem;
                flex-direction: row;
                justify-content: space-between;
                align-items: center;
            }
            .logo {
                width: 80px;
                height: 24px;
                margin: 0;
            }
            nav {
                display: flex;
            }
            nav ul {
                flex-direction: row;
                align-items: center;
                justify-content: flex-end;
                flex-wrap: wrap;
                padding: 0;
            }
            nav ul li {
                margin: 0 0 0 1rem;
            }
            nav ul li a {
                font-size: 0.8rem;
            }
            .section {
                padding: 1rem 0.5rem;
            }
            #contact form {
                padding: 0 0.5rem;
            }
            .hero h1 {
                font-size: 2rem;
            }
            h2 {
                font-size: 2rem;
            }
            .offering-card {
                margin: 1rem auto;
                padding: 0.5rem;
            }
            .offering-content {
                padding: 0.25rem;
            }
            .offering-plot img {
                width: 100%;
                height: auto;
                margin-bottom: 0.5rem;
            }
            .table-container {
                height: auto;
                max-height: 120px;
                overflow-y: auto;
                margin-bottom: 0.5rem;
            }
            .stats-table {
                font-size: 0.65rem;
                line-height: 1.2;
            }
            .stats-table th, .stats-table td {
                padding: 0.15rem;
            }
            .offering-details p {
                margin-top: 0.5rem;
                margin-bottom: 0;
                font-size: 0.8rem;
            }
            button[type="submit"] {
                width: 60%;
            }
            .offering-card h3 {
                padding: 0.75rem;
                font-size: 1.2rem;
            }
        }
    </style>
</head>
<body>
<header>
    <div class="logo">
        <a href="#hero">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 60">
                <style>
                    .main-text { font-family: Arial, sans-serif; font-size: 32px; font-weight: bold; fill: white; }
                    .sub-text { font-family: Arial, sans-serif; font-size: 16px; fill: #4ecdc4; letter-spacing: 5px; }
                </style>
                <text x="100" y="28" class="main-text" text-anchor="middle">M<tspan dx="0">W</tspan><tspan dx="0">M</tspan></text>
                <text x="100" y="50" class="sub-text" text-anchor="middle">RESEARCH</text>
            </svg>
        </a>
    </div>
    <nav>
        <ul>
            <li><a href="#philosophy">Philosophy</a></li>
            <li><a href="#offerings">Offerings</a></li>
            <li><a href="#contact">Contact</a></li>
        </ul>
    </nav>
</header>
    <div id="hero" class="hero">
        <div id="particles-js"></div>
        <h1>Dynamic Portfolio Solutions.</h1>
    </div>
    <div class="content">
        <section id="philosophy" class="section">
            <h2>Our Philosophy</h2>
            <div class="philosophy-content">
                <p>At MWM Research, we harness adaptive investment strategies to navigate modern financial markets. Our approach is built on three core principles:</p>
                
                <div class="principles">
                    <div class="principle">
                        <h3>1. Dynamic Management</h3>
                        <p>We actively adjust our strategies to align with evolving market conditions, capitalising on opportunities and mitigating risks in ways static strategies cannot.</p>
                    </div>
                    
                    <div class="principle">
                        <h3>2. Risk Mitigation</h3>
                        <p>We aim to outperform traditional approaches while minimising drawdowns and overall risk exposure, believing that preserving capital is as crucial as growing it.</p>
                    </div>
                    
                    <div class="principle">
                        <h3>3. Customised Solutions</h3>
                        <p>We tailor our investment systems to each client's unique needs, offering flexibility in leverage, risk management stringency, and overall portfolio composition.</p>
                    </div>
                </div>
            </div>
        </section>
        <section id="offerings" class="section">
            <h2>Our Offerings</h2>
            <div class="offering-card">
                <h3>Adaptive Long/Short Strategy</h3>
                <div class="offering-content">
                    <div class="offering-plot">
                        <img id="long-short-img" src="docs/equity_portfolio_performance_(long-short).png" alt="Equity Portfolio Performance (Long-Short)" onclick="openModal(this.src)">
                    </div>
                    <div class="table-container">
                        <table class="stats-table" id="longShortStatsTable">
                            <tr>
                                <th>Metric</th>
                                <th>Strategy</th>
                                <th>Buy & Hold</th>
                            </tr>
                            <!-- Table rows will be populated dynamically -->
                        </table>
                    </div>
                    <div class="offering-details">
                        <p>Our flagship Adaptive Long/Short Strategy embodies our philosophy of dynamic management and market adaptability. It's designed to thrive in both bull and bear markets, offering a truly all-weather investment solution. By analysing market sentiment, volatility, and credit conditions, this strategy adapts its stance to capitalise on opportunities in any market environment.</p>
                    </div>
                </div>
            </div>
            <div class="offering-card">
                <h3>Dynamic Equity Long-Only Strategy</h3>
                <div class="offering-content">
                    <div class="offering-plot">
                        <img id="long-only-img" src="docs/equity_portfolio_performance_(long-only).png" alt="Equity Portfolio Performance (Long-Only)" onclick="openModal(this.src)">
                    </div>
                    <div class="table-container">
                        <table class="stats-table" id="longOnlyStatsTable">
                            <tr>
                                <th>Metric</th>
                                <th>Strategy</th>
                                <th>Buy & Hold</th>
                            </tr>
                            <!-- Table rows will be populated dynamically -->
                        </table>
                    </div>
                    <div class="offering-details">
                        <p>The Dynamic Equity Long-Only Strategy is designed for investors seeking a more traditional approach enhanced by active management. This model dynamically shifts between equity exposure and cash positions, aiming to deliver steady growth while significantly reducing volatility and avoiding large drawdowns, offering a more stable investment experience across varying market conditions.</p>
                    </div>
                </div>
            </div>
        </section>
        <section id="contact" class="section">
            <h2>Contact Us</h2>
            <form action="https://formspree.io/f/mwpedldd" method="POST">
                <div class="form-group">
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name" required>
                </div>
                <div class="form-group">
                    <label for="email">Email:</label>
                    <input type="email" id="email" name="email" required>
                </div>
                <div class="form-group">
                    <label for="message">Message:</label>
                    <textarea id="message" name="message" required></textarea>
                </div>
                <button type="submit">Send</button>
            </form>
        </section>
    </div>
    <footer>
        <p>Copyright © 2024 MWM-RESEARCH.NET. All rights reserved.</p>
    </footer>
    <a href="#" id="back-to-top" title="Back to Top">↑</a>

    <div id="imageModal" class="modal">
        <span class="close" onclick="closeModal()">&times;</span>
        <img class="modal-content" id="modalImg">
    </div>

<script src="https://cdn.jsdelivr.net/npm/particles.js@2.0.0/particles.min.js"></script>
<script>
    document.addEventListener('DOMContentLoaded', function() {
        if(typeof particlesJS !== 'undefined') {
            particlesJS("particles-js", {
                "particles": {
                    "number": {"value": 80, "density": {"enable": true, "value_area": 800}},
                    "color": {"value": "#ffffff"},
                    "shape": {"type": "circle", "stroke": {"width": 0, "color": "#000000"}, "polygon": {"nb_sides": 5}},
                    "opacity": {"value": 0.5, "random": false, "anim": {"enable": false, "speed": 1, "opacity_min": 0.1, "sync": false}},
                    "size": {"value": 3, "random": true, "anim": {"enable": false, "speed": 40, "size_min": 0.1, "sync": false}},
                    "line_linked": {"enable": true, "distance": 150, "color": "#ffffff", "opacity": 0.4, "width": 1},
                    "move": {"enable": true, "speed": 6, "direction": "none", "random": false, "straight": false, "out_mode": "out", "bounce": false, "attract": {"enable": false, "rotateX": 600, "rotateY": 1200}}
                },
                "interactivity": {
                    "detect_on": "canvas",
                    "events": {"onhover": {"enable": true, "mode": "repulse"}, "onclick": {"enable": true, "mode": "push"}, "resize": true},
                    "modes": {"grab": {"distance": 400, "line_linked": {"opacity": 1}}, "bubble": {"distance": 400, "size": 40, "duration": 2, "opacity": 8, "speed": 3}, "repulse": {"distance": 200, "duration": 0.4}, "push": {"particles_nb": 4}, "remove": {"particles_nb": 2}}
                },
                "retina_detect": true
            });
        } else {
            console.error("Particles.js library failed to load");
        }

        // Navigation smooth scroll without changing URL
        document.querySelectorAll('nav a').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const sectionId = this.getAttribute('href').substring(1);
                const section = document.getElementById(sectionId);
                section.scrollIntoView({behavior: 'smooth'});
            });
        });

        // Logo click handler - refresh page
        document.querySelector('.logo a').addEventListener('click', (e) => {
            e.preventDefault();
            window.location.href = '/';
        });
    });

    // Back to top button functionality
    const backToTopButton = document.getElementById('back-to-top');
    const footer = document.querySelector('footer');

    window.addEventListener('scroll', () => {
        if (window.pageYOffset > 300) {
            backToTopButton.style.display = 'flex';
        } else {
            backToTopButton.style.display = 'none';
        }

        const footerRect = footer.getBoundingClientRect();
        if (footerRect.top < window.innerHeight) {
            backToTopButton.classList.add('hidden');
        } else {
            backToTopButton.classList.remove('hidden');
        }
    });

    backToTopButton.addEventListener('click', (e) => {
        e.preventDefault();
        window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // Populate the stats tables
    function populateTable(data, tableId) {
        const table = document.getElementById(tableId);
        data.forEach(row => {
            if (row[0] !== 'Metric' && row[0] !== '') {  // Skip header row and empty rows
                const tr = table.insertRow();
                const metricCell = tr.insertCell();
                const strategyCell = tr.insertCell();
                const buyHoldCell = tr.insertCell();

                metricCell.textContent = row[0];
                strategyCell.textContent = row[1];
                buyHoldCell.textContent = row[2];
            }
        });
    }

    // Populate Long-Short table
    Papa.parse('docs/equity_portfolio_(long-short)_stats.csv', {
        download: true,
        complete: function(results) {
            populateTable(results.data, 'longShortStatsTable');
        }
    });

    // Populate Long-Only table
    Papa.parse('docs/equity_portfolio_(long-only)_stats.csv', {
        download: true,
        complete: function(results) {
            populateTable(results.data, 'longOnlyStatsTable');
        }
    });

    // Form submission handler
    document.querySelector('#contact form').addEventListener('submit', function(e) {
        e.preventDefault();
        
        fetch(this.action, {
            method: 'POST',
            body: new FormData(this),
            headers: {
                'Accept': 'application/json'
            }
        }).then(response => {
            if (response.ok) {
                alert('Message sent successfully!');
                this.reset();
                window.location.href = '#hero';
            } else {
                response.json().then(data => {
                    if (Object.hasOwn(data, 'errors')) {
                        alert(data["errors"].map(error => error["message"]).join(", "));
                    } else {
                        alert("Oops! There was a problem submitting your form");
                    }
                })
            }
        }).catch(error => {
            alert("Oops! There was a problem submitting your form");
        });
    });

    // Image modal functionality
    function openModal(imgSrc) {
        const modal = document.getElementById("imageModal");
        const modalImg = document.getElementById("modalImg");
        modal.style.display = "block";
        modalImg.src = imgSrc;
    }

    function closeModal() {
        document.getElementById("imageModal").style.display = "none";
    }

    // Close the modal when clicking outside the image
    window.onclick = function(event) {
        const modal = document.getElementById("imageModal");
        if (event.target == modal) {
            modal.style.display = "none";
        }
    }
</script>

<script>
    fetch('docs/metadata.json')
        .then(response => response.json())
        .then(metadata => {
            const timestamp = metadata.timestamp;
            const longOnlyImg = document.getElementById('long-only-img');
            const longShortImg = document.getElementById('long-short-img');
            
            if (longOnlyImg) {
                longOnlyImg.src = `docs/${metadata.plot_dimensions.long_only.filename}?t=${timestamp}`;
                console.log('Long-only image source updated:', longOnlyImg.src);
            }
            if (longShortImg) {
                longShortImg.src = `docs/${metadata.plot_dimensions.long_short.filename}?t=${timestamp}`;
                console.log('Long-short image source updated:', longShortImg.src);
            }
        })
        .catch(error => {
            console.error('Error loading or parsing metadata:', error);
        });
</script>
</body>
</html>
